(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{56:function(e,t,n){},57:function(e,t,n){},63:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(14),s=n.n(a),i=(n(56),n(24)),o=n(6),u=(n(57),n(9)),j=n(18),l=Object(j.b)({name:"alert",initialState:{message:"",variant:"dark",show:!1},reducers:{showAlert:function(e,t){e.message=t.payload.message,e.variant=t.payload.variant?t.payload.variant:"dark",e.show=!0},hideAlert:function(e){e.message="",e.variant="dark",e.show=!1}}}),b=l.actions,d=b.showAlert,h=b.hideAlert,O=function(e){return e.alert},f=l.reducer,x=n(50),m=(n(63),n(1)),p=function(){var e=Object(u.b)(),t=Object(u.c)(O);return Object(c.useEffect)((function(){t.show&&setTimeout((function(){e(h())}),3e3)}),[t,e]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(x.a,{variant:t.variant,show:t.show,className:"bottom-center",children:t.message})})},g=(n(66),function(e){var t=e.children;return Object(m.jsx)("div",{className:"wrapper",children:t})}),w=n(22),v=n.n(w),y=n(30),N=n(7),q=(n(68),n(77)),k=n(82),C=n(78),F=n(2),z=Object(j.b)({name:"userInfo",initialState:{username:""},reducers:{setUserInfo:function(e,t){return Object(F.a)(Object(F.a)({},e),{},{username:t.payload})}}}),A=z.reducer,S=z.actions.setUserInfo,I=function(e){return e.userInfo},L=Object(j.b)({name:"category",initialState:{categoryList:[],topic:{}},reducers:{setCategory:function(e,t){return Object(F.a)(Object(F.a)({},e),{},{categoryList:t.payload})},setTopic:function(e,t){return Object(F.a)(Object(F.a)({},e),{},{topic:t.payload})}}}),T=L.reducer,H=L.actions,B=H.setCategory,E=H.setTopic,P=function(e){return e.category},_=function(){var e=Object(o.f)(),t=Object(u.b)(),n=Object(u.c)(P),r=Object(c.useState)(""),a=Object(N.a)(r,2),s=a[0],i=a[1],j=Object(c.useState)(""),l=Object(N.a)(j,2),b=l[0],h=l[1];Object(c.useEffect)(Object(y.a)(v.a.mark((function e(){var n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://opentdb.com/api_category.php");case 3:if((n=e.sent).ok){e.next=8;break}throw n.statusText;case 8:return e.next=10,n.json();case 10:c=e.sent,t(B(c.trivia_categories));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Error: failed to fetch category data ".concat(e.t0));case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[]);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(q.a,{fluid:!0,className:"userFormContainer",children:[Object(m.jsx)("h1",{children:"Welcome to Quiz App :)"}),Object(m.jsx)("p",{children:"Enter your name and let't begin"}),Object(m.jsxs)(k.a,{onSubmit:function(n){if(n.preventDefault(),""===s||""===b)return t(d({message:"Please enter your user name and choose topic",variant:"danger"})),!1;t(S(s)),t(E(b)),e("/quiz")},children:[Object(m.jsxs)(k.a.Group,{className:"userForm",children:[Object(m.jsx)(k.a.Label,{children:"Name:"}),Object(m.jsx)(k.a.Control,{type:"text",placeholder:"Enter your name...",value:s,onFocus:function(){return i("")},onChange:function(e){return i(e.target.value)}})]}),Object(m.jsxs)(k.a.Group,{className:"transactionCategory",children:[Object(m.jsx)(k.a.Label,{children:"Topic:"}),Object(m.jsxs)(k.a.Select,{required:!0,defaultValue:"Choose a topic...",value:b,onChange:function(e){return h(e.target.value)},children:[Object(m.jsx)("option",{children:"Choose..."}),n.categoryList.map((function(e,t){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("option",{children:e.name},t)})}))]})]}),Object(m.jsx)(C.a,{className:"startBtn",type:"submit",children:"Start"})]})]})})},Q=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(_,{})})},G=(n(69),function(){var e=Object(u.c)(I),t=Object(u.c)(P);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("header",{children:[Object(m.jsxs)("h1",{children:["Hi ",e.username,"!"]}),Object(m.jsxs)("h2",{children:["Topic is ",Object(m.jsx)("span",{children:t.topic})]})]})})}),W=n(39),D=(n(70),n(80)),J=Object(j.b)({name:"quiz",initialState:{quizList:[],inputAnswer:[]},reducers:{setQuiz:function(e,t){return Object(F.a)(Object(F.a)({},e),{},{quizList:t.payload})},setInputAnswer:function(e,t){return Object(F.a)(Object(F.a)({},e),{},{inputAnswer:t.payload})}}}),M=J.reducer,R=J.actions,U=R.setQuiz,Y=R.setInputAnswer,V=function(e){return e.quiz},$=n(79),K=(n(71),function(){return Object(m.jsx)(q.a,{fluid:!0,className:"spinner d-flex h-100 align-items-center justify-content-center",children:Object(m.jsx)($.a,{animation:"border",variant:"light"})})}),X=(n(72),n(81)),Z=function(e){var t=Object(o.f)(),n=function(n){t("home"===n?"/":"/answer"),e.onHide()};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(X.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:e.show,className:"scoreModal",onHide:e.onHide,children:[Object(m.jsx)(X.a.Header,{children:Object(m.jsx)(X.a.Title,{as:"h3",id:"contained-modal-title-vcenter",children:"Your Score"})}),Object(m.jsx)(X.a.Body,{children:Object(m.jsxs)("p",{className:"score",children:[Object(m.jsx)("span",{children:e.count})," / 10"]})}),Object(m.jsxs)(X.a.Footer,{children:[Object(m.jsx)(C.a,{className:"toHomeBtn",type:"button",onClick:function(){return n("home")},children:"Return to Home"}),Object(m.jsx)(C.a,{className:"toAnswerBtn",type:"button",onClick:function(){return n("answer")},children:"Check correct answer"})]})]})})},ee=function(){var e=Object(o.f)(),t=Object(u.c)(P),n=Object(u.c)(V),r=Object(u.b)(),a=Object(c.useState)([]),s=Object(N.a)(a,2),i=s[0],j=s[1],l=Object(c.useState)(),b=Object(N.a)(l,2),h=b[0],O=b[1],f=Object(c.useState)(!1),x=Object(N.a)(f,2),p=x[0],g=x[1],w=function(){var e=Object(y.a)(v.a.mark((function e(n){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.categoryList.find((function(e){return e.name===n})),e.abrupt("return",c.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)(Object(y.a)(v.a.mark((function n(){var c,a,s;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w(t.topic);case 3:return c=n.sent,n.next=6,fetch("https://opentdb.com/api.php?amount=10&type=boolean&category=".concat(c));case 6:if((a=n.sent).ok){n.next=11;break}throw a.statusText;case 11:return n.next=13,a.json();case 13:0===(s=n.sent).results.length?(r(d({message:"Sorry no quiz list prepared :( Please select another topic",variant:"danger"})),e("/")):r(U(s.results));case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),console.error("Error: failed to fetch category data ".concat(n.t0));case 20:case"end":return n.stop()}}),n,null,[[0,17]])}))),[]);var F=function(e,t){-1===i.findIndex((function(t){return t.questionNum===e}))?j([].concat(Object(W.a)(i),[{questionNum:e,answer:t,isChecked:!0}])):j(i.map((function(n){return n.questionNum===e?{questionNum:e,answer:t,isChecked:!0}:n})))};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(q.a,{fluid:!0,className:"quizPanelContainer",children:0!==n.quizList.length?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(D.a,{children:[Object(m.jsx)("h2",{children:"Quiz"}),n.quizList.map((function(e,t){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(k.a,{className:"quizForm",children:[Object(m.jsxs)("p",{children:[t+1,": ",e.question]},t),Object(m.jsxs)(k.a.Group,{className:"checkBox",children:[Object(m.jsx)(k.a.Check,{type:"radio",value:"True",label:"True",checked:-1!==i.findIndex((function(e){return e.questionNum===t+1}))&&!0===i[i.findIndex((function(e){return e.questionNum===t+1}))].isChecked&&"True"===i[i.findIndex((function(e){return e.questionNum===t+1}))].answer,onChange:function(){return F(t+1,"True")}}),Object(m.jsx)(k.a.Check,{type:"radio",value:"False",label:"False",checked:-1!==i.findIndex((function(e){return e.questionNum===t+1}))&&!0===i[i.findIndex((function(e){return e.questionNum===t+1}))].isChecked&&"False"===i[i.findIndex((function(e){return e.questionNum===t+1}))].answer,onChange:function(){return F(t+1,"False")}})]})]})})})),Object(m.jsx)(C.a,{className:"submitBtn",type:"button",onClick:function(e){if(e.preventDefault(),10!==i.length)return r(d({message:"Please answer all questions",variant:"danger"})),!1;var t=n.quizList.map((function(e,t){return{questionNum:t+1,correctAnswer:e.correct_answer}})),c=i.sort((function(e,t){return e.questionNum-t.questionNum}));r(Y(c));for(var a=0,s=0;s<t.length;s++)t[s].correctAnswer===c[s].answer&&a++;O(a),g(!0)},children:"Submit Answer"})]}),void 0!==h&&Object(m.jsx)(Z,{show:p,onHide:function(){return g(!1)},count:h})]}):Object(m.jsx)(K,{})})})},te=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(G,{}),Object(m.jsx)(ee,{})]})},ne=(n(73),n(45)),ce=function(){var e=Object(o.f)(),t=Object(u.c)(V);return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(q.a,{fluid:!0,className:"answerPanelContainer",children:Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(D.a,{children:[Object(m.jsx)("h2",{children:"Answer"}),t.quizList.map((function(e,n){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:[n+1,": ",e.question]}),Object(m.jsxs)("div",{className:"answer",children:[Object(m.jsx)("p",{className:"correctAnswer",children:e.correct_answer}),Object(m.jsxs)("p",{className:"inputAnswer",children:["(Your Anwer is : ",t.inputAnswer[n].answer,")"]}),e.correct_answer===t.inputAnswer[n].answer?Object(m.jsx)(ne.a,{className:"correct"}):Object(m.jsx)(ne.b,{className:"wrong"})]})]},n)})})),Object(m.jsx)(C.a,{className:"toHomeBtn",type:"button",onClick:function(){return e("/")},children:"Return to Home"})]})})})})},re=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(G,{}),Object(m.jsx)(ce,{})]})},ae=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(i.a,{children:Object(m.jsx)(g,{children:Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{exact:!0,path:"/",element:Object(m.jsx)(Q,{})}),Object(m.jsx)(o.a,{exact:!0,path:"/home",element:Object(m.jsx)(Q,{})}),Object(m.jsx)(o.a,{exact:!0,path:"/quiz",element:Object(m.jsx)(te,{})}),Object(m.jsx)(o.a,{exact:!0,path:"/answer",element:Object(m.jsx)(re,{})})]})})}),Object(m.jsx)(p,{})]})},se=Object(j.a)({reducer:{alert:f,userInfo:A,category:T,quiz:M}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(74);s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(u.a,{store:se,children:Object(m.jsx)(ae,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[75,1,2]]]);
//# sourceMappingURL=main.5b9f7d30.chunk.js.map