(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){},47:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(13),s=n.n(a),i=(n(40),n(21)),o=n(5),u=(n(41),n(9)),j=n(14),l=Object(j.b)({name:"alert",initialState:{message:"",variant:"dark",show:!1},reducers:{showAlert:function(e,t){e.message=t.payload.message,e.variant=t.payload.variant?t.payload.variant:"dark",e.show=!0},hideAlert:function(e){e.message="",e.variant="dark",e.show=!1}}}),b=l.actions,d=b.showAlert,h=b.hideAlert,f=function(e){return e.alert},O=l.reducer,m=n(34),p=(n(47),n(1)),x=function(){var e=Object(u.b)(),t=Object(u.c)(f);return Object(r.useEffect)((function(){t.show&&setTimeout((function(){e(h())}),3e3)}),[t,e]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(m.a,{variant:t.variant,show:t.show,className:"bottom-center",children:t.message})})},g=(n(50),function(e){var t=e.children;return Object(p.jsx)("div",{className:"wrapper",children:t})}),v=(n(51),n(16)),w=n.n(v),y=n(19),q=n(8),k=(n(53),n(61)),N=n(65),C=n(62),z=n(2),F=Object(j.b)({name:"userInfo",initialState:{username:""},reducers:{setUserInfo:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{username:t.payload})}}}),S=F.reducer,I=F.actions.setUserInfo,A=function(e){return e.userInfo},L=Object(j.b)({name:"category",initialState:{categoryList:[],topic:{}},reducers:{setCategory:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{categoryList:t.payload})},setTopic:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{topic:t.payload})}}}),T=L.reducer,E=L.actions,B=E.setCategory,P=E.setTopic,G=function(e){return e.category},Q=function(){var e=Object(o.f)(),t=Object(u.b)(),n=Object(u.c)(G),c=Object(r.useState)(""),a=Object(q.a)(c,2),s=a[0],i=a[1],j=Object(r.useState)(""),l=Object(q.a)(j,2),b=l[0],h=l[1];Object(r.useEffect)(Object(y.a)(w.a.mark((function e(){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://opentdb.com/api_category.php");case 3:if((n=e.sent).ok){e.next=8;break}throw n.statusText;case 8:return e.next=10,n.json();case 10:r=e.sent,t(B(r.trivia_categories));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Error: failed to fetch category data ".concat(e.t0));case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(k.a,{fluid:!0,className:"userFormContainer",children:[Object(p.jsx)("h1",{children:"Welcome to Quiz App :)"}),Object(p.jsx)("p",{children:"Enter your name and let't begin"}),Object(p.jsxs)(N.a,{onSubmit:function(n){if(n.preventDefault(),""===s||""===b)return t(d({message:"Please enter your user name and choose topic",variant:"danger"})),!1;t(I(s)),t(P(b)),e("/quiz")},children:[Object(p.jsxs)(N.a.Group,{className:"userForm",children:[Object(p.jsx)(N.a.Label,{children:"Name:"}),Object(p.jsx)(N.a.Control,{type:"text",placeholder:"Enter your name...",value:s,onFocus:function(){return i("")},onChange:function(e){return i(e.target.value)}})]}),Object(p.jsxs)(N.a.Group,{className:"transactionCategory",children:[Object(p.jsx)(N.a.Label,{children:"Topic:"}),Object(p.jsxs)(N.a.Select,{required:!0,defaultValue:"Choose a topic...",value:b,onChange:function(e){return h(e.target.value)},children:[Object(p.jsx)("option",{children:"Choose..."}),n.categoryList.map((function(e,t){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("option",{children:e.name},t)})}))]})]}),Object(p.jsx)(C.a,{className:"startBtn",type:"submit",children:"Start"})]})]})})},W=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(Q,{})})},_=(n(54),n(55),function(){var e=Object(u.c)(A),t=Object(u.c)(G);return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("header",{children:[Object(p.jsxs)("h1",{children:["Hi ",e.username,"!"]}),Object(p.jsxs)("h2",{children:["Topic is ",t.topic]})]})})}),D=n(35),H=(n(56),n(64)),J=Object(j.b)({name:"quiz",initialState:{quizList:[],correctAnswerCount:void 0},reducers:{setQuiz:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{quizList:t.payload})},setCorrectAnswerCount:function(e,t){return Object(z.a)(Object(z.a)({},e),{},{correctAnswerCount:t.payload})}}}),U=J.reducer,M=J.actions.setQuiz,R=function(e){return e.quiz},V=n(63),Y=(n(57),function(){return Object(p.jsx)(k.a,{fluid:!0,className:"spinner d-flex h-100 align-items-center justify-content-center",children:Object(p.jsx)(V.a,{animation:"border",variant:"light"})})}),$=function(){var e=Object(o.f)(),t=Object(u.c)(G),n=Object(u.c)(R),c=Object(u.b)(),a=Object(r.useState)([]),s=Object(q.a)(a,2),i=s[0],j=s[1],l=Object(r.useState)(),b=Object(q.a)(l,2),h=b[0],f=b[1],O=function(){var e=Object(y.a)(w.a.mark((function e(n){var r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.categoryList.find((function(e){return e.name===n})),e.abrupt("return",r.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)(Object(y.a)(w.a.mark((function n(){var r,a,s;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,O(t.topic);case 3:return r=n.sent,n.next=6,fetch("https://opentdb.com/api.php?amount=10&type=boolean&category=".concat(r));case 6:if((a=n.sent).ok){n.next=11;break}throw a.statusText;case 11:return n.next=13,a.json();case 13:0===(s=n.sent).results.length?(c(d({message:"Sorry no quiz list prepared :( Please select another topic",variant:"danger"})),e("/")):c(M(s.results));case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),console.error("Error: failed to fetch category data ".concat(n.t0));case 20:case"end":return n.stop()}}),n,null,[[0,17]])}))),[]);var m=function(e,t){-1===i.findIndex((function(t){return t.questionNum===e}))?j([].concat(Object(D.a)(i),[{questionNum:e,answer:t,isChecked:!0}])):j(i.map((function(n){return n.questionNum===e?{questionNum:e,answer:t,isChecked:!0}:n})))};return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(k.a,{fluid:!0,className:"quizPanelContainer",children:0!==n.quizList.length?Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(H.a,{children:[n.quizList.map((function(e,t){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(N.a,{className:"quizForm",children:[Object(p.jsxs)("p",{children:[t+1,": ",e.question]},t),Object(p.jsxs)(N.a.Group,{className:"checkBox",children:[Object(p.jsx)(N.a.Check,{type:"radio",value:"True",label:"True",checked:-1!==i.findIndex((function(e){return e.questionNum===t+1}))&&!0===i[i.findIndex((function(e){return e.questionNum===t+1}))].isChecked&&"True"===i[i.findIndex((function(e){return e.questionNum===t+1}))].answer,onChange:function(){return m(t+1,"True")}}),Object(p.jsx)(N.a.Check,{type:"radio",value:"False",label:"False",checked:-1!==i.findIndex((function(e){return e.questionNum===t+1}))&&!0===i[i.findIndex((function(e){return e.questionNum===t+1}))].isChecked&&"False"===i[i.findIndex((function(e){return e.questionNum===t+1}))].answer,onChange:function(){return m(t+1,"False")}})]})]})})})),Object(p.jsx)(C.a,{className:"submitBtn",type:"button",onClick:function(e){if(e.preventDefault(),10!==i.length)return c(d({message:"Please answer all questions",variant:"danger"})),!1;for(var t=n.quizList.map((function(e,t){return{questionNum:t+1,correctAnswer:e.correct_answer}})),r=i.sort((function(e,t){return e.questionNum-t.questionNum})),a=0,s=0;s<t.length;s++)t[s].correctAnswer===r[s].answer&&a++;f(a)},children:"Submit Answer"}),Object(p.jsx)(C.a,{className:"submitBtn",type:"button",onClick:function(){e("/")},children:"Return to Home"}),void 0!==h&&Object(p.jsxs)("p",{className:"score",children:["Your Score is : ",Object(p.jsxs)("span",{children:[h,"/10"]})]})]})}):Object(p.jsx)(Y,{})})})},K=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(_,{}),Object(p.jsx)($,{})]})},X=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(i.a,{children:Object(p.jsx)(g,{children:Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{path:"/",element:Object(p.jsx)(W,{})}),Object(p.jsx)(o.a,{path:"/home",element:Object(p.jsx)(W,{})}),Object(p.jsx)(o.a,{path:"/quiz",element:Object(p.jsx)(K,{})})]})})}),Object(p.jsx)(x,{})]})},Z=Object(j.a)({reducer:{alert:O,userInfo:S,category:T,quiz:U}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(58);s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(u.a,{store:Z,children:Object(p.jsx)(X,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[59,1,2]]]);
//# sourceMappingURL=main.b1da2a10.chunk.js.map